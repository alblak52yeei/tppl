# Интерпретатор упрощенного Pascal

Интерпретатор для упрощенной версии языка Pascal, который выполняет программы и выводит значения всех используемых переменных в виде словаря.

## Структура проекта

- `lexer.go` - лексический анализатор (токенизация)
- `parser.go` - синтаксический анализатор (построение AST)
- `interpreter.go` - интерпретатор (выполнение программы)
- `main.go` - точка входа программы
- `interpreter_test.go` - тесты

## Использование

### Компиляция

```bash
go build -o pascal main.go lexer.go parser.go interpreter.go
```

### Запуск

```bash
./pascal <файл.pas>
```

### Примеры

Примеры программ находятся в директории `examples/`:

1. `test1.pas` - пустая программа
2. `test2.pas` - простые арифметические выражения
3. `test3.pas` - вложенные блоки

## Запуск тестов

```bash
go test -v
```

## Поддерживаемые возможности

- Блоки `BEGIN ... END`
- Вложенные блоки
- Присваивание переменных: `переменная := выражение;`
- Арифметические операции: `+`, `-`, `*`, `/`
- Приоритет операций (умножение и деление выполняются раньше сложения и вычитания)
- Скобки для изменения порядка вычислений
- Отрицательные числа
- Переменные (идентификаторы)

## Формат вывода

Интерпретатор выводит словарь всех переменных, используемых в программе, в формате:
```
{переменная1: значение1, переменная2: значение2, ...}
```

Если переменных нет, выводится `{}`.

## Примеры выполнения

### Пример 1: Пустая программа
```pascal
BEGIN
END.
```
Вывод: `{}`

### Пример 2: Простые выражения
```pascal
BEGIN
	x:= 2 + 3 * (2 + 3);
        y:= 2 / 2 - 2 + 3 * ((1 + 1) + (1 + 1));
END.
```
Вывод: `{x: 17, y: 11}`

### Пример 3: Вложенные блоки
```pascal
BEGIN
    y: = 2;
    BEGIN
        a := 3;
        a := a;
        b := 10 + a + 10 * y / 4;
        c := a - b
    END;
    x := 11;
END.
```
Вывод: `{a: 3, b: 18, c: -15, x: 11, y: 2}`

